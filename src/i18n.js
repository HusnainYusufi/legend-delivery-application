// src/i18n.js
import i18n from "i18next";
import { initReactI18next } from "react-i18next";

const resources = {
  en: {
    translation: {
      brand: "SHAHEENE",
      splash_tagline: "Fast. Simple. Reliable.",
      scan_or_enter: "Scan QR or enter order number",
      placeholder_order: "e.g. ORD-12345",
      scan: "Scan",
      load_status: "Load Status",
      order: "Order",
      tracking_number: "Tracking Number",
      last_updated: "Last updated",
      order_steps: "Status Steps",
      special_statuses: "Special Statuses",
      next_suggested: "Next Suggested",
      current: "Current",
      occurred: "Occurred",
      tip_camera: "Tip: On device, camera scanning needs HTTPS + permission.",
      toast_need_order: "Enter or scan an order number.",
      error_fetch_status: "Failed to fetch status",
      scanned_payload: "Scanned payload",
      language: "Language",
      camera_permission_denied: "Camera permission denied. Please allow camera access in settings.",
      camera_init_failed: "Failed to start camera. Ensure you're on HTTPS and have camera permission.",
      error_scan_image: "Could not read QR from image",
      open_settings: "Open Settings",
      order_details: "Order Details",
      track_order: "Track Order",
      login: "Login",
      logout: "Logout",
      login_title: "Welcome Back",
      login_subtitle: "Sign in to your account",
      email: "Email",
      password: "Password",
      email_placeholder: "your.email@example.com",
      password_placeholder: "••••••••",
      login_button: "Sign In",
      login_error: "Invalid email or password. Please try again.",
      forgot_password: "Forgot your password?",
      reset_here: "Reset here",
      menu: "Menu",
      send_otp: "Send OTP",
      otp_sent: "OTP has been sent.",
      enter_otp_for: "Enter OTP for Order",
      backspace: "Backspace",
      clear: "Clear",
      cancel: "Cancel",
      submit: "Submit",
      orders_nav: "Orders",
      orders_title: "My Assigned Orders",
      loading: "Loading…",
      no_orders: "No orders found",
      scan_product: "Scan Product",
      open_camera: "Open Camera",
      claim_any_order: "Claim any order by scanning",
      scan_product_hint: "Point the camera at the package label QR. We'll claim it to your account and it will appear in your Mine tab.",
      scan_to_claim: "Scan to Claim",
      claimed_success: "Order claimed.",
      customer: "Customer",
      city: "City",
      order_date: "Order Date",
      items: "Items",
      more: "more",
      show_password: "Show password",
      hide_password: "Hide password",
      // NEW for PickupPool
      pickup_pool: "Pickup",
      tab_pool: "Pool",
      tab_mine: "Mine",
      search_orders: "Search by order no.",
      claim: "Claim",
      scan_to_claim: "Scan to Claim",
      claimed_success: "Order claimed ✓",
      statuses: {
        PENDING: "Pending",
        PREPARING: "Preparing",
        PREPARED: "Prepared",
        AWAITING_PICKUP: "Awaiting Pickup",
        IN_TRANSIT: "In Transit",
        OUT_FOR_DELIVERY: "Out for Delivery",
        DELIVERED: "Delivered",
        DELIVERY_FAILED: "Delivery Failed",
        ON_HOLD: "On Hold",
        RETURNED: "Returned",
        CANCELLED: "Cancelled"
      }
    }
  },
  ar: {
    translation: {
      brand: "شاهين",
      splash_tagline: "سريع. بسيط. موثوق.",
      scan_or_enter: "امسح رمز QR أو أدخل رقم الطلب",
      placeholder_order: "مثال: ORD-12345",
      scan: "مسح",
      load_status: "عرض الحالة",
      order: "الطلب",
      tracking_number: "رقم التتبع",
      last_updated: "آخر تحديث",
      order_steps: "خطوات الحالة",
      special_statuses: "حالات خاصة",
      next_suggested: "مقترح التالي",
      current: "حالي",
      scan_product: "مسح منتج",
open_camera: "افتح الكاميرا",
claim_any_order: "قم بالمطالبة بأي طلب عبر المسح",
scan_product_hint: "وجّه الكاميرا إلى رمز QR على ملصق الطرد. سنطالب به لحسابك وسيظهر في تبويب «طلباتي».",
scan_to_claim: "امسح للمطالبة",
claimed_success: "تمت المطالبة بالطلب.",
      occurred: "حدث",
      tip_camera: "ملاحظة: على الجهاز، المسح يحتاج HTTPS + إذن.",
      toast_need_order: "أدخل أو امسح رقم الطلب.",
      error_fetch_status: "تعذر جلب الحالة",
      scanned_payload: "البيانات الممسوحة",
      language: "اللغة",
      camera_permission_denied: "تم رفض إذن الكاميرا. يرجى السماح بالوصول إلى الكاميرا في الإعدادات.",
      camera_init_failed: "فشل بدء الكاميرا. تأكد من أنك على HTTPS ولديك إذن الكاميرا.",
      error_scan_image: "تعذر قراءة رمز الاستجابة السريعة من الصورة",
      open_settings: "فتح الإعدادات",
      order_details: "تفاصيل الطلب",
      track_order: "تتبع الطلب",
      login: "تسجيل الدخول",
      logout: "تسجيل الخروج",
      login_title: "مرحبًا بعودتك",
      login_subtitle: "سجل الدخول إلى حسابك",
      email: "البريد الإلكتروني",
      password: "كلمة المرور",
      email_placeholder: "بريدك@example.com",
      password_placeholder: "••••••••",
      login_button: "تسجيل الدخول",
      login_error: "بريد إلكتروني أو كلمة مرور غير صحيحة. حاول مرة أخرى.",
      forgot_password: "نسيت كلمة المرور؟",
      reset_here: "إعادة تعيين هنا",
      menu: "القائمة",
      orders_nav: "الطلبات",
      orders_title: "طلباتي المعيّنة",
      loading: "جارٍ التحميل…",
      no_orders: "لا توجد طلبات",
      customer: "العميل",
      city: "المدينة",
      order_date: "تاريخ الطلب",
      items: "العناصر",
      more: "المزيد",
      send_otp: "إرسال رمز التحقق",
      otp_sent: "تم إرسال رمز التحقق.",
      enter_otp_for: "أدخل رمز التحقق للطلب",
      backspace: "حذف",
      clear: "مسح",
      cancel: "إلغاء",
      submit: "تأكيد",
      show_password: "إظهار كلمة المرور",
      hide_password: "إخفاء كلمة المرور",
      // NEW for PickupPool
      pickup_pool: "الاستلام",
      tab_pool: "المشترك",
      tab_mine: "الخاصة بي",
      search_orders: "ابحث برقم الطلب",
      claim: "مطالبة",
      scan_to_claim: "المسح للمطالبة",
      claimed_success: "تمت المطالبة بالطلب ✓",
      statuses: {
        PENDING: "قيد الانتظار",
        PREPARING: "قيد التحضير",
        PREPARED: "تم التحضير",
        AWAITING_PICKUP: "بانتظار الاستلام",
        IN_TRANSIT: "قيد النقل",
        OUT_FOR_DELIVERY: "خارج للتسليم",
        DELIVERED: "تم التسليم",
        DELIVERY_FAILED: "فشل التسليم",
        ON_HOLD: "معلق",
        RETURNED: "مرتجع",
        CANCELLED: "ملغى"
      }
    }
  }
};

i18n.use(initReactI18next).init({
  resources,
  lng: "ar",
  fallbackLng: "ar",
  interpolation: { escapeValue: false }
});

function syncDir(lng) {
  const dir = lng === "ar" ? "rtl" : "ltr";
  document.documentElement.setAttribute("dir", dir);
  document.documentElement.setAttribute("lang", lng);
}
syncDir(i18n.language);
i18n.on("languageChanged", syncDir);

export default i18n;
