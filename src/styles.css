@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========= Brand & layout ========= */
:root{
  --brand:#072c41;
  --brand-600:#0a3b57;
  --brand-50:#f1f6f9;
  --nav-h:calc(env(safe-area-inset-top) + 3.5rem);
}

*{ -webkit-tap-highlight-color:transparent; box-sizing:border-box; }

html,body,#root{ height:100%; width:100%; margin:0; padding:0; }

/* Light theme by default */
body{
  @apply text-slate-900 bg-white overflow-x-hidden;
  transition: background-color .3s ease;
}
body.dark{ @apply dark:bg-slate-900 dark:text-slate-100; }

body.scanner-open, body.overflow-hidden{ overflow:hidden; }

.app-shell{
  @apply min-h-[100dvh];
  background: linear-gradient(180deg,#ffffff,var(--brand-50));
  display:flex; flex-direction:column;
}

/* Navbar with safe-area */
.navbar{
  @apply fixed top-0 inset-x-0 z-50 bg-white shadow-md border-b border-slate-200 dark:bg-slate-900 dark:border-slate-800;
  padding-top: env(safe-area-inset-top);
  height: var(--nav-h);
}
.navbar-inner{
  @apply max-w-3xl mx-auto py-2 flex items-center justify-between;
  height:100%;
}

/* Page content area */
.content{
  @apply max-w-3xl mx-auto px-4 pb-6;
  flex:1;
  padding-top: calc(var(--nav-h) + .5rem);
  padding-bottom: env(safe-area-inset-bottom);
  width:100%;
  overflow-y:auto;
}

/* Center hero when no detail is shown */
.home-hero{
  min-height: calc(100dvh - var(--nav-h) - env(safe-area-inset-bottom));
  display:grid; place-items:center;
}

/* Cards & buttons */
.card{ @apply rounded-2xl border border-slate-200 bg-white shadow-sm dark:bg-slate-800 dark:border-slate-700; }

.btn{ @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-3 font-medium shadow-sm transition; }

.icon-btn{
  @apply rounded-xl flex items-center justify-center border border-slate-300 bg-white hover:bg-slate-50
  dark:border-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600;
}

/* Brand elements */
.btn-brand{ background:var(--brand); color:#fff; }
.btn-brand:hover{ filter:brightness(1.05); }

.icon-btn-brand{
  color:#fff; border:none;
  background: linear-gradient(135deg,var(--brand),var(--brand-600));
}

.brand-chip{
  color:#fff;
  background: linear-gradient(135deg,var(--brand),var(--brand-600));
}

/* Badges (now fully brand-colored) */
.badge-brand{
  color:#fff;
  background: linear-gradient(135deg,var(--brand),var(--brand-600));
}

/* Splash */
.splash{ @apply fixed inset-0 z-40 grid place-items-center; background:linear-gradient(135deg,var(--brand),var(--brand-600)); animation:fadeOut .3s ease .9s forwards; }
@keyframes fadeOut{ from{opacity:1} to{opacity:0; visibility:hidden} }
@keyframes progress{ 0%{transform:translateX(-100%)} 50%{transform:translateX(50%)} 100%{transform:translateX(200%)} }
.splash-bar>div{ animation:progress 1.1s ease-in-out infinite; @apply h-full w-1/3 bg-white; }

/* Drawer anim */
.drawer-content{ transition:transform .3s ease-out; }
.bg-black\/50{ transition:opacity .3s ease; }
@keyframes slide-in{ from{transform:translateX(100%)} to{transform:translateX(0)} }
@keyframes slide-out-right{ from{transform:translateX(0)} to{transform:translateX(100%)} }
@keyframes slide-out-left{ from{transform:translateX(0)} to{transform:translateX(-100%)} }
.animate-slide-in{ animation:slide-in .3s ease-out forwards; }
.animate-slide-out-right{ animation:slide-out-right .3s ease-in forwards; }
.animate-slide-out-left{ animation:slide-out-left .3s ease-in forwards; }

/* Small-screen tweaks */
@media (max-width:640px){
  .navbar-inner{@apply py-1;}
  .content{ padding-top: var(--nav-h); }
  .card{@apply p-4;}
}
